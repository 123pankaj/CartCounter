language: android
notifications:
  email:
    recipients:
    - rowlandotienoo@gmail.com
    on_success: always
    on_failure: always
env:
  global:
  - secure: a0ntodqya0a8584T2gTX06eLFGwxo/cBQ2lMowzHB5ELa9VwcvBrIROUDrLWwJu9HPk3EDHQDKnGPTkP9Cb7p3QjHY3oL0zvEJCfjGTszUQVEQBuVfK3uxKMeQhWzWexoOcCaHpbcBvQYRUBNwDBy+IrW6FOT6lFqS+7/eZiT9RvO59nxJxZ3q/HypIiYfQnoYl6dGEZeMpBrxJHQg2U+ZBSRf/yFFSrHQXRi5y/wK8zjrWpDjXVOYtzPv0DOdhCRVVx5M8LIWhq6LsZkWvdpAVJ4gCPEMM98rLQex32N+ZGp9gN9rymWJkdjuzKm3I72DOj059ALzSUuM5ySC4eYe/cHyTexfuQNb5JOMmCOZqccql6Id0s1xODC0sSL9IKxfXcQBNqvAA3/UUEu3bH+VB76m18Gkfv2XPfcHXMTiv6XyCiRPR3WdTvYAeCUkn4/YPKBXTovHr/xCqHIlRpor0CYj0f6ETa7fmf3UyK3KAj8ogK9G0vDgFJAWkFQ5OyDue+Yk2Prfv2U+pfkVFk+7hWWuVnHYBqDEwqdIGBpKUWxLLQOZuez3hUBLa/sDqZLBFWFyV/s026OfE+OXB+e/pNIxOKAwGuVCY9CuFSnGFnwZTi9pxFnI+mr4k91kc9fh9WHUGUqSEl5sXxDZ5iNozoIZbCSWdQDcRXC/qLLmU=
  - secure: T4Grbm3hASYRIUogx2eo+aNbMA3cK2eL0qhNpQKLlVwtm2C4kOVsr5J6FAWKgtLIRIaTGfL6cJqWDrnxv/MuLbuYGCXSmHBualN1xkktKVlzM23EkucChJeJ1AKLULyYSCTZet8rg9aHo5qvoDa4dw5hnZsyBijljqIzncO18tNL/+QucIjfQbR7GKUjb8J5LyR/nAj2afp0xshjsem6LnMgwUej/YhrAATi71pCbUXVflk6C65hcQmLR/TNZ9ZxTvJkTtQyVp2+3EWkoUFo/rD/uljLzy9NKKijeHqjjIwHzoi74NBoL02p5r5LoDdBsujF965HivB/p1kHT10eaxA6OoPw/TzxvwimD5tfmCvqKNiKX0zb965Z57G2XsgR4jv9duecCnOaa8NfIYt8f0pzGfTd652t2bnoeGktuW4DbNW/CBTIuJiRGqgHmjIF9ga5pNWXaFdqefeZa3yAw/KTz7/DgFSCaDTUPMXzSss1SbwMf8Nf8t+ddxpTrjT38C5h4zCgLa350a73Wc5o7qC4hxs+3EDs2b00NC6yORaayjS7DcBROLXK4IAqr/bgEkV5XAjea7RsKzg80ZkO1eYoK+fM+A4yNFZnRSy0uZIcYcwQWebIwLmqRKHa3Za4aFUzIswCDpKerl5pSs9CfkUHBRZ8PtsYzXRyMMgMbqk=

jdk:
- oraclejdk8
android:
  components:
  - tools
  - extra-android-support
  - extra-google-google_play_services
  - extra-android-m2repository
  - extra-google-m2repository
  - build-tools-26.0.1
  - android-26
deploy:
  provider: releases
  # The api-key is encrypted like described here: http://docs.travis-ci.com/user/encryption-keys/  (only travis can decrypt the key)
  api_key:
    secure: N3g6uou0MlMpvP+oH1yF5+12G0uJgspmHU41+BHQR2/cUSKMRCw+vEjh8PJpQjWb7Jme+s+IZhUsDsmpT60FNL0cLeelsDn+R1t6XS1uIo6kK23R0p9FrKtth+IGUwAKnNNCkYnSB1TUglqjSbdCNL3PZRgfBwfB36QCu7VS3Uxyhy9o6j0PB3ImiCUsarYT1CYlxzdTkMNvxQSbcS6ze3gGeBtZ5JiZ7tOX8F+lYFQ9024/k/lyog8WH4wBa/rbpelDi0aOv3wEFjot0PT5KlEV4el6wYuFxzaADa8UGuKet45dIu1Bi4k8YjXylDmbPdPqRpUoy5YH/LpKUKsYac/pgB/trqSW9YqgIJ8xTdiGbewc/eiy3rNQxvn8TQL1lr7VSrPYIa2TVMuXxgTiVQ2glYbXs5IqH5rPpIu+vPLYCCBBMZ+5gHk+2b66iVmM2FpcgCo5SzNrsyJ39gwLuTI8RQ+CGMKyYV9XByzEcOQ3AaJBp1JcmS+MuplpaR1ZYlzg0+pGVmhAeJ0kBXv+9TMcyc9x0rKP6YrCNkU6Kh/iYtGlAuPHmJf77NPUuS2Sq/eZmZj5PoQfKG6Zpk6lUUHfQIviKtyTLce5/5/rjqxie7oOhOV0UUtSk3+aA/hmyhd7zAX9Yn33fPCn5ZvMf60cFPq2OFXQaznt/X3LVaE=
  # Which file(s) to upload
  file: sample/build/outputs/apk/debug/sample-debug.apk
  # do not delete the files we're trying to upload
  skip_cleanup: true
  # only deploy if
  on:
    # we are on this repo
    repo: RowlandOti/CartCounter
    # and we are building a tag
    tags: true
before_install:
- export JAVA7_HOME=/usr/lib/jvm/java-7-oracle
- export JAVA8_HOME=/usr/lib/jvm/java-8-oracle
- export JAVA_HOME=$JAVA8_HOME
- chmod +x gradlew
script:
- "./gradlew clean build --stacktrace"
after_deploy:
- "./gradlew bintrayUpload -PbintrayUser=$BINTRAYUSER -PbintrayKey=$BINTRAYKEY -PdryRun=false --stacktrace"